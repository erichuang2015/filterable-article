var EventBus=new Vue;window.filterableFilters=Vue.component("filterable-filters",{props:{children:Array,parent:Array},data:function(){return{parentActiveIndex:null,childActiveIndex:null}},methods:{handleParentClick:function(n,e){this.parentActiveIndex=this.parentActiveIndex===e?null:e,this.emitState()},handleChildClick:function(n,e){this.childActiveIndex=this.childActiveIndex===e?null:e,this.emitState()},emitState:function(){EventBus.$emit("filter-click",{parent:null!==this.parentActiveIndex?this.parent[this.parentActiveIndex]:null,child:null!==this.childActiveIndex?this.children[this.childActiveIndex]:null})}},template:'<div>\n    <div class="filterable__parent">\n    <button\n      class="filter-button"\n      v-bind:class="{ \'active\': parentActiveIndex === index }"\n      v-for="(item, index) in parent"\n      v-on:click="handleParentClick(item,index)"\n    >\n      {{ item }}\n    </button>\n    </div>\n    <div class="filterable__children">\n      <button\n        class="filter-button"\n        v-bind:class="{ \'active\': childActiveIndex === index }"\n        v-for="(item, index) in children"\n        v-on:click="handleChildClick(item,index)"\n      >\n          {{ item }}\n      </button>\n    </div>\n</div>'}),window.filterableItem=Vue.component("filterable-item",{props:{model:Object},mounted:function(){var n=this;EventBus.$on("filter-click",function(e){if(e.child)var t=!!n.model.cats.filter(function(n){return n===e.child})[0];if(e.parent)var i=!!n.model.parent.filter(function(n){return n===e.parent})[0];e.child&&e.parent?n.$el.style.display=i&&t?"block":"none":n.$el.style.display=i||t?"block":"none",console.log(e),null===e.child&&null===e.parent&&(n.$el.style.display="block")})}});
